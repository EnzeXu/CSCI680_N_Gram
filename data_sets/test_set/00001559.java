public class ElementDirectedGraph extends BaseAnnotatedElementGraph implements AnnotatedGraph { public ElementDirectedGraph() { this.graph = new DirectedGraph(); } public ElementDirectedGraph( ElementGraph parent ) { if( parent == null ) { this.graph = new DirectedGraph(); return; } this.graph = new DirectedGraph( directed( parent ) ); addParentAnnotations( parent ); } public ElementDirectedGraph( ElementGraph parent, EnumMultiMap annotations ) { this( parent ); getAnnotations().addAll( annotations ); } @Override public ElementGraph copyElementGraph() { return new ElementDirectedGraph( this ); } private class DirectedGraph extends SimpleDirectedGraph<FlowElement, Scope> { public DirectedGraph() { super( Scope.class ); } public DirectedGraph( org.jgrapht.Graph<FlowElement, Scope> parent ) { this(); Graphs.addGraph( this, parent ); } @Override protected DirectedSpecifics createSpecifics( boolean directed ) { return new DirectedSpecifics( this, new IdentityHashMap<FlowElement, DirectedEdgeContainer<FlowElement, Scope>>() ); } } }