public class WarningDialog extends AlertDialog { protected String warning; private int showKey; public WarningDialog(Context context, int dontShowKey) { super(context); this.showKey = dontShowKey; } public WarningDialog(Context context, int warningKey, int dontShowKey) { this(context, dontShowKey); warning = context.getString(warningKey); } @Override protected void onCreate(Bundle savedInstanceState) { Context ctx = getContext(); setMessage(warning); setButton(AlertDialog.BUTTON1, ctx.getText(android.R.string.ok), new DialogInterface.OnClickListener() { @Override public void onClick(DialogInterface dialog, int which) { dismiss(); } }); setButton(AlertDialog.BUTTON2, ctx.getText(R.string.beta_dontask), new DialogInterface.OnClickListener() { @Override public void onClick(DialogInterface dialog, int which) { Context ctx = getContext(); SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(ctx); SharedPreferences.Editor edit = prefs.edit(); edit.putBoolean(ctx.getString(showKey), false); edit.commit(); dismiss(); } }); super.onCreate(savedInstanceState); } }