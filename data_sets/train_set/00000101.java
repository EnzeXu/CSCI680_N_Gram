public class BasicThreadFactory implements ThreadFactory { private static final AtomicInteger POOL_NUMBER = new AtomicInteger(1); private final AtomicInteger threadNumber = new AtomicInteger(1); private final String namePrefix; private final boolean daemon; public BasicThreadFactory(String name, boolean daemon) { this.namePrefix = name + "-" + POOL_NUMBER.getAndIncrement() + "-"; this.daemon = daemon; } public Thread newThread(Runnable r) { Thread t = new Thread(r, namePrefix + threadNumber.getAndIncrement()); t.setDaemon(daemon); return t; } }