public class LogicalMergeExpressionGraph extends ExpressionGraph { public LogicalMergeExpressionGraph() { super( SearchOrder.ReverseDepth ); ElementExpression source = OrElementExpression.or( ElementCapture.Primary, new FlowElementExpression( Tap.class, Split ), new FlowElementExpression( Group.class, Split ) ); ElementExpression sink = new FlowElementExpression( ElementCapture.Secondary, Merge.class, Splice ); this.arc( source, JoinEdgesSameSourceScopeExpression.ALL_SAME_SOURCE, sink ); } }