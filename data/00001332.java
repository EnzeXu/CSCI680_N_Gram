public class ContractedGraphTransformer extends MutateGraphTransformer { public ContractedGraphTransformer ( ExpressionGraph expression ) { super ( expression ) ; } public ContractedGraphTransformer ( GraphTransformer graphTransformer , ExpressionGraph expressionGraph ) { super ( graphTransformer , expressionGraph ) ; } @ Override protected boolean transformGraphInPlaceUsing ( Transformed < ElementGraph > transformed , ElementGraph graph , Match match ) { Set < FlowElement > remove = match . getCapturedElements ( ElementCapture . Primary ) ; if ( remove . isEmpty ( ) ) return false ; for ( FlowElement flowElement : remove ) ElementGraphs . removeAndContract ( graph , flowElement ) ; return true ; } }