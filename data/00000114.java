public class TapCustomOperationImpl extends TapOperationImpl implements TapOperation { private final String id; private final RequestMessage message; TapCustomOperationImpl(String id, RequestMessage message, OperationCallback cb) { super(cb); this.id = id; this.message = message; } @Override public void initialize() { message.setFlags(TapRequestFlag.FIX_BYTEORDER); if (id != null) { message.setName(id); } else { message.setName(UUID.randomUUID().toString()); } setBuffer(message.getBytes()); } @Override public void streamClosed(OperationState state) { transitionState(state); } @Override public String toString() { return "Cmd: tap custom"; } }