public class MemUtil { public static byte[] decompress(byte[] input) throws IOException { ByteArrayInputStream bais = new ByteArrayInputStream(input); GZIPInputStream gzis = new GZIPInputStream(bais); ByteArrayOutputStream baos = new ByteArrayOutputStream(); Util.copyStream(gzis, baos); return baos.toByteArray(); } public static byte[] compress(byte[] input) throws IOException { ByteArrayInputStream bais = new ByteArrayInputStream(input); ByteArrayOutputStream baos = new ByteArrayOutputStream(); GZIPOutputStream gzos = new GZIPOutputStream(baos); Util.copyStream(bais, gzos); gzos.close(); return baos.toByteArray(); } }