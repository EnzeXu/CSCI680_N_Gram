public class StreamedAccumulatedTapsExpressionGraph extends ExpressionGraph { public StreamedAccumulatedTapsExpressionGraph() { super( SearchOrder.Depth ); ElementExpression sink = or( ElementCapture.Secondary, new FlowElementExpression( Tap.class ), new FlowElementExpression( Group.class ) ); this.arc( new FlowElementExpression( ElementCapture.Primary, Tap.class ), PathScopeExpression.ALL_NON_BLOCKING, sink ); this.arc( new FlowElementExpression( Tap.class ), PathScopeExpression.ALL_BLOCKING, sink ); } }