public class BufferedInputStream extends ByteArrayInputStream { private static final byte[] ZERO_BYTES = new byte[]{}; public BufferedInputStream() { super( ZERO_BYTES ); } public void reset( byte[] input, int start, int length ) { this.buf = input; this.count = start + length; this.mark = start; this.pos = start; } public byte[] getBuffer() { return buf; } public int getPosition() { return pos; } public int getLength() { return count; } public void clear() { this.buf = ZERO_BYTES; this.count = 0; this.mark = 0; this.pos = 0; } }