public class RuleReplaceFactoryBasedTransformer extends RuleTransformer { public RuleReplaceFactoryBasedTransformer( PlanPhase phase, RuleExpression ruleExpression, String factoryName ) { super( phase, ruleExpression ); ExpressionGraph matchExpression = ruleExpression.getMatchExpression(); if( subGraphTransformer != null ) graphTransformer = new ReplaceGraphFactoryBasedTransformer( subGraphTransformer, matchExpression, factoryName ); else if( contractedTransformer != null ) graphTransformer = new ReplaceGraphFactoryBasedTransformer( contractedTransformer, matchExpression, factoryName ); else graphTransformer = new ReplaceGraphFactoryBasedTransformer( matchExpression, factoryName ); } }