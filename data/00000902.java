public class CouchDocumentTest { @Test(expected = IllegalArgumentException.class) public void notValidDocument() throws Exception { new CouchDocument(new JSONObject("{}")); } @Test public void validDocument() throws Exception { final CouchDocument doc = new CouchDocument(new JSONObject("{_id:\"hello\"}")); assertThat(doc.getId(), is("hello")); } @Test public void asJson() throws Exception { final JSONObject json = new JSONObject("{_id:\"hello\"}"); final CouchDocument doc = new CouchDocument(json); assertThat(doc.asJson(), is(json)); } }