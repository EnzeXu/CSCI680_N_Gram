public class Main { public static void main ( String [ ] args ) throws IOException { HttpService . setSslSecurityProtocol ( SSLSecurityProtocol . TLSv1_2 ) ; String host = args [ 0 ] ; String port = args [ 1 ] ; String search = args [ 2 ] ; String earliest = args [ 3 ] ; String latest = args [ 4 ] ; ServiceArgs serviceArgs = new ServiceArgs ( ) ; serviceArgs . putAll ( SplunkUtil . loadSplunkRC ( ) ) ; serviceArgs . setHost ( host ) ; serviceArgs . setPort ( Integer . valueOf ( port ) ) ; serviceArgs . setUsername ( System . getenv ( "SPLUNK_USERNAME" ) ) ; serviceArgs . setPassword ( System . getenv ( "SPLUNK_PASSWORD" ) ) ; JobExportArgs exportArgs = new JobExportArgs ( ) ; exportArgs . setEarliestTime ( earliest ) ; exportArgs . setLatestTime ( latest ) ; SplunkCSV splunkCSV = new SplunkCSV ( Fields . ALL ) ; SplunkSearchTap searchTap = new SplunkSearchTap ( splunkCSV , serviceArgs , exportArgs , search ) ; TupleEntryIterator iterator = searchTap . openForRead ( FlowProcess . nullFlowProcess ( ) ) ; while ( iterator . hasNext ( ) ) System . out . println ( iterator . next ( ) . getTuple ( ) ) ; } }