public class SortedListMultiMap < K , V > extends MultiMap < List < V > , K , V > { Comparator < K > comparator = null ; int initialListSize = 10 ; public SortedListMultiMap ( ) { } public SortedListMultiMap ( int initialListSize ) { this . initialListSize = initialListSize ; } public SortedListMultiMap ( Comparator < K > comparator , int initialListSize ) { this . comparator = comparator ; this . initialListSize = initialListSize ; } public V get ( K key , int pos ) { List < V > multiValues = getMultiValues ( key ) ; return multiValues . get ( pos ) ; } public V set ( K key , int pos , V value ) { List < V > multiValues = getMultiValues ( key ) ; return multiValues . set ( pos , value ) ; } @ Override protected Map < K , List < V > > createMap ( ) { return new TreeMap < > ( comparator ) ; } @ Override protected List < V > createCollection ( ) { return new ArrayList < > ( initialListSize ) ; } @ Override protected List < V > emptyCollection ( ) { return Collections . emptyList ( ) ; } public Map . Entry < K , List < V > > firstEntry ( ) { return ( ( TreeMap ) getMap ( ) ) . firstEntry ( ) ; } public Map . Entry < K , List < V > > pollFirstEntry ( ) { return ( ( TreeMap ) getMap ( ) ) . pollFirstEntry ( ) ; } }