public class BottomUpConsecutiveBoundariesTriangleExpressionGraph extends ExpressionGraph { public BottomUpConsecutiveBoundariesTriangleExpressionGraph ( ) { super ( SearchOrder . ReverseTopological ) ; ElementExpression lhs = or ( new FlowElementExpression ( Boundary . class ) , new FlowElementExpression ( Tap . class ) , new FlowElementExpression ( Group . class , TypeExpression . Topo . LinearOut ) , new FlowElementExpression ( Merge . class , TypeExpression . Topo . LinearOut ) ) ; ElementExpression rhs = or ( new FlowElementExpression ( Boundary . class ) , new FlowElementExpression ( Tap . class ) , new FlowElementExpression ( Group . class , TypeExpression . Topo . LinearOut ) , new FlowElementExpression ( Merge . class , TypeExpression . Topo . LinearOut ) ) ; FlowElementExpression shared = new FlowElementExpression ( ElementCapture . Secondary , HashJoin . class ) ; ElementExpression tail = or ( ElementCapture . Primary , and ( new BoundariesElementExpression ( TypeExpression . Topo . LinearIn ) , not ( new AnnotationExpression ( IORole . sink ) ) ) , new BoundariesElementExpression ( TypeExpression . Topo . Splice ) ) ; this . arc ( lhs , ScopeExpression . ANY , shared ) ; this . arc ( rhs , ScopeExpression . ANY , shared ) ; this . arc ( shared , ScopeExpression . ANY , tail ) ; this . arc ( rhs , ScopeExpression . NO_CAPTURE , tail ) ; } }