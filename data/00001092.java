public class CountingItemStage < Incoming , Outgoing > extends Stage < Incoming , Outgoing > { int prepareCount = 0 ; int receiveCount = 0 ; int cleanupCount = 0 ; public CountingItemStage ( ) { } public int getPrepareCount ( ) { return prepareCount ; } public int getReceiveCount ( ) { return receiveCount ; } public int getCleanupCount ( ) { return cleanupCount ; } @ Override public void prepare ( ) { prepareCount++ ; super . prepare ( ) ; } @ Override public void receive ( Duct previous , int ordinal , Incoming incoming ) { receiveCount++ ; super . receive ( previous , ordinal , incoming ) ; } @ Override public void cleanup ( ) { cleanupCount++ ; super . cleanup ( ) ; } }