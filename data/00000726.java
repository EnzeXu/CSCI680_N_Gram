public class PasswordActivity extends LockingActivity { public static final String KEY_DEFAULT_FILENAME = "defaultFileName" ; public static final String KEY_FILENAME = "fileName" ; public static final String KEY_KEYFILE = "keyFile" ; private static final String [ ] READ_WRITE_PERMISSIONS = { Manifest . permission . READ_EXTERNAL_STORAGE , Manifest . permission . WRITE_EXTERNAL_STORAGE } ; public static void Launch ( Activity act , String fileName ) throws FileNotFoundException { Launch ( act , fileName , "" ) ; } public static void Launch ( Activity act , String fileName , String keyFile ) throws FileNotFoundException { if ( EmptyUtils . isNullOrEmpty ( fileName ) ) { throw new FileNotFoundException ( ) ; } Uri uri = UriUtil . parseDefaultFile ( fileName ) ; String scheme = uri . getScheme ( ) ; if ( !EmptyUtils . isNullOrEmpty ( scheme ) && scheme . equalsIgnoreCase ( "file" ) ) { File dbFile = new File ( uri . getPath ( ) ) ; if ( !dbFile . exists ( ) ) { throw new FileNotFoundException ( ) ; } } Intent i = new Intent ( act , PasswordActivity . class ) ; i . putExtra ( KEY_FILENAME , fileName ) ; i . putExtra ( KEY_KEYFILE , keyFile ) ; act . startActivityForResult ( i , 0 ) ; } @ Override protected void onCreate ( @ Nullable Bundle savedInstanceState ) { super . onCreate ( savedInstanceState ) ; setContentView ( R . layout . password_activity ) ; Toolbar toolbar = ( Toolbar ) findViewById ( R . id . toolbar ) ; setSupportActionBar ( toolbar ) ; } }