public class Context4ScalaHome extends ContextBase implements Context { private final File scalaHome ; public Context4ScalaHome ( VersionNumber scalaVersion , VersionNumber scalaCompatVersion , ArtifactIds aids , File scalaHome ) { super ( scalaVersion , scalaCompatVersion , aids ) ; this . scalaHome = scalaHome ; } @ Override public boolean hasInDistro ( Artifact artifact ) throws Exception { return false ; } @ Override public Set < Artifact > findLibraryAndDependencies ( ) throws Exception { File lib = new File ( scalaHome , "lib" ) ; File f = new File ( lib , aids . scalaLibraryArtifactId ( ) + " . jar" ) ; Set < Artifact > d = new TreeSet < > ( ) ; d . add ( new LocalFileArtifact ( "local" , aids . scalaLibraryArtifactId ( ) , scalaVersion . toString ( ) , f ) ) ; return d ; } @ Override public Set < Artifact > findCompilerAndDependencies ( ) throws Exception { Set < Artifact > d = new TreeSet < > ( ) ; for ( File f : new File ( scalaHome , "lib" ) . listFiles ( ) ) { String name = f . getName ( ) ; if ( name . endsWith ( " . jar" ) ) { d . add ( new LocalFileArtifact ( "local" , name . substring ( 0 , name . length ( ) - 4 ) , scalaVersion . toString ( ) , f ) ) ; } } return d ; } }