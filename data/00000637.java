public class SettingsFragment extends PreferenceFragmentCompat { public SettingsFragment ( ) { } @ Override public void onDisplayPreferenceDialog ( Preference preference ) { if ( preference instanceof VolumePreference ) { DialogFragment fragment = VolumePreferenceFragment . newInstance ( preference ) ; fragment . setTargetFragment ( this , 0 ) ; fragment . show ( getFragmentManager ( ) , "android . support . v7 . preference . PreferenceFragment . DIALOG" ) ; } else { super . onDisplayPreferenceDialog ( preference ) ; } } @ Override public void onCreatePreferences ( Bundle bundle , String rootKey ) { setPreferencesFromResource ( R . xml . preferences , rootKey ) ; } }